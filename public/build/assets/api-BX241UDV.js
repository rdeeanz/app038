import{y as o}from"./app-BhE3jarQ.js";const a=o.create({baseURL:"/api",headers:{Accept:"application/json","Content-Type":"application/json"},withCredentials:!0});a.interceptors.request.use(async e=>{if(e.url!=="/sanctum/csrf-cookie")try{await o.get("/sanctum/csrf-cookie",{withCredentials:!0})}catch(s){console.error("Failed to get CSRF cookie:",s)}return e},e=>Promise.reject(e));a.interceptors.response.use(e=>e,e=>{var s,t,r;return((s=e.response)==null?void 0:s.status)===401&&(window.location.href="/login"),((t=e.response)==null?void 0:t.status)===403&&console.error("Access forbidden:",e.response.data),((r=e.response)==null?void 0:r.status)===422&&console.error("Validation errors:",e.response.data.errors),Promise.reject(e)});export{a};
