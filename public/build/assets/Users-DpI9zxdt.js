import{S as st,i as nt,s as it,d as H,a as we,t as be,b as ce,c as S,m as ke,e as p,f as ye,C as ot,D as rt,u as xe,w as de,E as je,F as Le,h as n,v as Y,j as d,n as pe,G as Ce,l,N as ve,r as _e,k as P,g as te,p as ge,q as he,x as lt}from"./app-BhE3jarQ.js";import{A as at,L as Me}from"./AppLayout-BfVQ8FrY.js";function Ee(s,t,e){const i=s.slice();return i[42]=t[e],i}function ze(s,t,e){const i=s.slice();return i[42]=t[e],i}function De(s,t,e){const i=s.slice();return i[47]=t[e],i}function He(s,t,e){const i=s.slice();return i[50]=t[e],i}function Se(s,t,e){const i=s.slice();return i[42]=t[e],i}function dt(s){let t,e,i,o;return{c(){t=pe("svg"),e=pe("path"),i=pe("path"),o=P(`
                        Website Settings`),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"),l(i,"stroke-linecap","round"),l(i,"stroke-linejoin","round"),l(i,"stroke-width","2"),l(i,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),l(t,"class","inline-block h-5 w-5 mr-2"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"stroke","currentColor")},m(r,a){S(r,t,a),n(t,e),n(t,i),S(r,o,a)},p:_e,d(r){r&&(H(t),H(o))}}}function ft(s){let t,e,i;return{c(){t=pe("svg"),e=pe("path"),i=P(`
                        User Settings`),l(e,"stroke-linecap","round"),l(e,"stroke-linejoin","round"),l(e,"stroke-width","2"),l(e,"d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"),l(t,"class","inline-block h-5 w-5 mr-2"),l(t,"fill","none"),l(t,"viewBox","0 0 24 24"),l(t,"stroke","currentColor")},m(o,r){S(o,t,r),n(t,e),S(o,i,r)},p:_e,d(o){o&&(H(t),H(i))}}}function Ne(s){let t,e,i,o,r,a=s[4].message+"",c;return{c(){t=d("div"),e=d("div"),i=pe("svg"),o=pe("path"),r=p(),c=P(a),l(o,"fill-rule","evenodd"),l(o,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"),l(o,"clip-rule","evenodd"),l(i,"class","h-5 w-5 mr-2"),l(i,"fill","currentColor"),l(i,"viewBox","0 0 20 20"),l(e,"class","flex items-center"),l(t,"class","mb-4 bg-green-50 border-l-4 border-green-400 text-green-700 px-4 py-3 rounded-r-lg shadow-sm")},m(f,g){S(f,t,g),n(t,e),n(e,i),n(i,o),n(e,r),n(e,c)},p(f,g){g[0]&16&&a!==(a=f[4].message+"")&&te(c,a)},d(f){f&&H(t)}}}function Be(s){let t,e,i,o,r,a=s[4].error+"",c;return{c(){t=d("div"),e=d("div"),i=pe("svg"),o=pe("path"),r=p(),c=P(a),l(o,"fill-rule","evenodd"),l(o,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),l(o,"clip-rule","evenodd"),l(i,"class","h-5 w-5 mr-2"),l(i,"fill","currentColor"),l(i,"viewBox","0 0 20 20"),l(e,"class","flex items-center"),l(t,"class","mb-4 bg-red-50 border-l-4 border-red-400 text-red-700 px-4 py-3 rounded-r-lg shadow-sm")},m(f,g){S(f,t,g),n(t,e),n(e,i),n(i,o),n(e,r),n(e,c)},p(f,g){g[0]&16&&a!==(a=f[4].error+"")&&te(c,a)},d(f){f&&H(t)}}}function ut(s){let t;return{c(){t=d("tr"),t.innerHTML='<td colspan="5" class="px-6 py-12 text-center"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg> <p class="mt-4 text-sm text-gray-500">No users found.</p></td>'},m(e,i){S(e,t,i)},p:_e,d(e){e&&H(t)}}}function mt(s){let t,e=ge(s[1].data),i=[];for(let o=0;o<e.length;o+=1)i[o]=Ae(He(s,e,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=Ce()},m(o,r){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,r);S(o,t,r)},p(o,r){if(r[0]&327683){e=ge(o[1].data);let a;for(a=0;a<e.length;a+=1){const c=He(o,e,a);i[a]?i[a].p(c,r):(i[a]=Ae(c),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=e.length}},d(o){o&&H(t),he(i,o)}}}function ct(s){let t;return{c(){t=d("span"),t.textContent="No Role",l(t,"class","px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-gray-100 text-gray-800")},m(e,i){S(e,t,i)},p:_e,d(e){e&&H(t)}}}function pt(s){let t,e=ge(s[50].roles),i=[];for(let o=0;o<e.length;o+=1)i[o]=Te(Se(s,e,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=Ce()},m(o,r){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(o,r);S(o,t,r)},p(o,r){if(r[0]&2){e=ge(o[50].roles);let a;for(a=0;a<e.length;a+=1){const c=Se(o,e,a);i[a]?i[a].p(c,r):(i[a]=Te(c),i[a].c(),i[a].m(t.parentNode,t))}for(;a<i.length;a+=1)i[a].d(1);i.length=e.length}},d(o){o&&H(t),he(i,o)}}}function Te(s){let t,e=s[42].name+"",i,o;return{c(){t=d("span"),i=P(e),o=p(),l(t,"class","px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-indigo-100 text-indigo-800")},m(r,a){S(r,t,a),n(t,i),n(t,o)},p(r,a){a[0]&2&&e!==(e=r[42].name+"")&&te(i,e)},d(r){r&&H(t)}}}function qe(s){let t,e,i;function o(){return s[28](s[50])}return{c(){t=d("button"),t.innerHTML='<svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',l(t,"class","text-red-600 hover:text-red-900 transition-colors"),l(t,"title","Delete")},m(r,a){S(r,t,a),e||(i=Y(t,"click",o),e=!0)},p(r,a){s=r},d(r){r&&H(t),e=!1,i()}}}function Ae(s){var fe,q;let t,e,i,o,r,a=(s[50].name?s[50].name.charAt(0).toUpperCase():"U")+"",c,f,g,z=s[50].name+"",x,E,C,h=s[50].email+"",j,y,b,T,w,_,v=new Date(s[50].created_at).toLocaleDateString()+"",J,D,K,$,L,re,ie,O,F;function ae(A,ne){return A[50].roles&&A[50].roles.length>0?pt:ct}let Z=ae(s),X=Z(s);function se(){return s[27](s[50])}let I=s[50].id!==((q=(fe=s[0])==null?void 0:fe.user)==null?void 0:q.id)&&qe(s);return{c(){t=d("tr"),e=d("td"),i=d("div"),o=d("div"),r=d("span"),c=P(a),f=p(),g=d("div"),x=P(z),E=p(),C=d("td"),j=P(h),y=p(),b=d("td"),T=d("div"),X.c(),w=p(),_=d("td"),J=P(v),D=p(),K=d("td"),$=d("div"),L=d("button"),L.innerHTML='<svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',re=p(),I&&I.c(),ie=p(),l(r,"class","text-indigo-600 font-medium text-xs sm:text-sm"),l(o,"class","h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center mr-2 sm:mr-3"),l(g,"class","text-sm font-medium text-gray-900"),l(i,"class","flex items-center"),l(e,"class","px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap"),l(C,"class","px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-700"),l(T,"class","flex flex-wrap gap-1"),l(b,"class","px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap"),l(_,"class","px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-xs sm:text-sm text-gray-500"),l(L,"class","text-indigo-600 hover:text-indigo-900 transition-colors"),l(L,"title","Edit"),l($,"class","flex justify-end space-x-2"),l(K,"class","px-3 sm:px-6 py-3 sm:py-4 whitespace-nowrap text-right text-sm font-medium"),l(t,"class","hover:bg-gray-50 transition-colors")},m(A,ne){S(A,t,ne),n(t,e),n(e,i),n(i,o),n(o,r),n(r,c),n(i,f),n(i,g),n(g,x),n(t,E),n(t,C),n(C,j),n(t,y),n(t,b),n(b,T),X.m(T,null),n(t,w),n(t,_),n(_,J),n(t,D),n(t,K),n(K,$),n($,L),n($,re),I&&I.m($,null),n(t,ie),O||(F=Y(L,"click",se),O=!0)},p(A,ne){var oe,G;s=A,ne[0]&2&&a!==(a=(s[50].name?s[50].name.charAt(0).toUpperCase():"U")+"")&&te(c,a),ne[0]&2&&z!==(z=s[50].name+"")&&te(x,z),ne[0]&2&&h!==(h=s[50].email+"")&&te(j,h),Z===(Z=ae(s))&&X?X.p(s,ne):(X.d(1),X=Z(s),X&&(X.c(),X.m(T,null))),ne[0]&2&&v!==(v=new Date(s[50].created_at).toLocaleDateString()+"")&&te(J,v),s[50].id!==((G=(oe=s[0])==null?void 0:oe.user)==null?void 0:G.id)?I?I.p(s,ne):(I=qe(s),I.c(),I.m($,null)):I&&(I.d(1),I=null)},d(A){A&&H(t),X.d(),I&&I.d(),O=!1,F()}}}function Re(s){let t,e,i,o=(s[1].from||0)+"",r,a,c=(s[1].to||0)+"",f,g,z=(s[1].total||0)+"",x,E,C,h,j,y=ge(s[1].links),b=[];for(let w=0;w<y.length;w+=1)b[w]=Pe(De(s,y,w));const T=w=>be(b[w],1,1,()=>{b[w]=null});return{c(){t=d("div"),e=d("div"),i=P("Showing "),r=P(o),a=P(" to "),f=P(c),g=P(" of "),x=P(z),E=P(" results"),C=p(),h=d("div");for(let w=0;w<b.length;w+=1)b[w].c();l(e,"class","text-xs sm:text-sm text-gray-700"),l(h,"class","flex space-x-2"),l(t,"class","px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200 flex items-center justify-between")},m(w,_){S(w,t,_),n(t,e),n(e,i),n(e,r),n(e,a),n(e,f),n(e,g),n(e,x),n(e,E),n(t,C),n(t,h);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(h,null);j=!0},p(w,_){if((!j||_[0]&2)&&o!==(o=(w[1].from||0)+"")&&te(r,o),(!j||_[0]&2)&&c!==(c=(w[1].to||0)+"")&&te(f,c),(!j||_[0]&2)&&z!==(z=(w[1].total||0)+"")&&te(x,z),_[0]&2){y=ge(w[1].links);let v;for(v=0;v<y.length;v+=1){const J=De(w,y,v);b[v]?(b[v].p(J,_),ce(b[v],1)):(b[v]=Pe(J),b[v].c(),ce(b[v],1),b[v].m(h,null))}for(je(),v=y.length;v<b.length;v+=1)T(v);Le()}},i(w){if(!j){for(let _=0;_<y.length;_+=1)ce(b[_]);j=!0}},o(w){b=b.filter(Boolean);for(let _=0;_<b.length;_+=1)be(b[_]);j=!1},d(w){w&&H(t),he(b,w)}}}function bt(s){let t,e;return{c(){t=d("span"),l(t,"class","px-3 py-2 text-xs sm:text-sm border border-gray-300 rounded-md text-gray-400 cursor-not-allowed"),l(t,"innerhtml",e=s[47].label)},m(i,o){S(i,t,o)},p(i,o){o[0]&2&&e!==(e=i[47].label)&&l(t,"innerhtml",e)},i:_e,o:_e,d(i){i&&H(t)}}}function gt(s){let t,e;return t=new Me({props:{href:s[47].url,class:"px-3 py-2 text-xs sm:text-sm border border-gray-300 rounded-md hover:bg-gray-50 "+(s[47].active?"bg-indigo-50 border-indigo-500 text-indigo-600":"text-gray-700"),innerHTML:s[47].label}}),{c(){ye(t.$$.fragment)},m(i,o){ke(t,i,o),e=!0},p(i,o){const r={};o[0]&2&&(r.href=i[47].url),o[0]&2&&(r.class="px-3 py-2 text-xs sm:text-sm border border-gray-300 rounded-md hover:bg-gray-50 "+(i[47].active?"bg-indigo-50 border-indigo-500 text-indigo-600":"text-gray-700")),o[0]&2&&(r.innerHTML=i[47].label),t.$set(r)},i(i){e||(ce(t.$$.fragment,i),e=!0)},o(i){be(t.$$.fragment,i),e=!1},d(i){we(t,i)}}}function Pe(s){let t,e,i,o;const r=[gt,bt],a=[];function c(f,g){return f[47].url?0:1}return t=c(s),e=a[t]=r[t](s),{c(){e.c(),i=Ce()},m(f,g){a[t].m(f,g),S(f,i,g),o=!0},p(f,g){let z=t;t=c(f),t===z?a[t].p(f,g):(je(),be(a[z],1,1,()=>{a[z]=null}),Le(),e=a[t],e?e.p(f,g):(e=a[t]=r[t](f),e.c()),ce(e,1),e.m(i.parentNode,i))},i(f){o||(ce(e),o=!0)},o(f){be(e),o=!1},d(f){f&&H(i),a[t].d(f)}}}function Fe(s){let t,e,i,o,r,a,c,f,g,z,x,E,C,h,j,y,b,T,w,_,v,J,D,K,$,L,re,ie,O,F,ae,Z,X,se,I,fe,q,A,ne,oe,G,V=s[12]?"Creating...":"Create User",le,N,u,m,M,ee=s[3].name&&Ge(s),B=s[3].email&&Qe(s),W=s[3].password&&Ve(s),k=ge(s[2]),Q=[];for(let U=0;U<k.length;U+=1)Q[U]=We(ze(s,k,U));let R=s[3].roles&&Ie(s);return{c(){t=d("div"),e=d("div"),i=d("div"),o=p(),r=d("div"),a=d("form"),c=d("div"),f=d("div"),g=d("h3"),g.textContent="Create New User",z=p(),x=d("div"),E=d("label"),E.textContent="Name",C=p(),h=d("input"),j=p(),ee&&ee.c(),y=p(),b=d("div"),T=d("label"),T.textContent="Email",w=p(),_=d("input"),v=p(),B&&B.c(),J=p(),D=d("div"),K=d("label"),K.textContent="Password",$=p(),L=d("input"),re=p(),W&&W.c(),ie=p(),O=d("div"),F=d("label"),F.textContent="Confirm Password",ae=p(),Z=d("input"),X=p(),se=d("div"),I=d("div"),I.textContent="Roles",fe=p(),q=d("div");for(let U=0;U<Q.length;U+=1)Q[U].c();A=p(),R&&R.c(),ne=p(),oe=d("div"),G=d("button"),le=P(V),N=p(),u=d("button"),u.textContent="Cancel",l(i,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"),l(i,"role","button"),l(i,"tabindex","0"),l(g,"class","text-lg leading-6 font-medium text-gray-900 mb-4"),l(E,"for","create_name"),l(E,"class","block text-sm font-medium text-gray-700 mb-1"),l(h,"type","text"),l(h,"id","create_name"),l(h,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),h.required=!0,l(x,"class","mb-4"),l(T,"for","create_email"),l(T,"class","block text-sm font-medium text-gray-700 mb-1"),l(_,"type","email"),l(_,"id","create_email"),l(_,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),_.required=!0,l(b,"class","mb-4"),l(K,"for","create_password"),l(K,"class","block text-sm font-medium text-gray-700 mb-1"),l(L,"type","password"),l(L,"id","create_password"),l(L,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),L.required=!0,l(D,"class","mb-4"),l(F,"for","create_password_confirmation"),l(F,"class","block text-sm font-medium text-gray-700 mb-1"),l(Z,"type","password"),l(Z,"id","create_password_confirmation"),l(Z,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),Z.required=!0,l(O,"class","mb-4"),l(I,"class","block text-sm font-medium text-gray-700 mb-2"),l(q,"class","space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-3"),l(se,"class","mb-4"),l(f,"class","mt-3 text-center sm:mt-0 sm:text-left w-full"),l(c,"class","sm:flex sm:items-start"),l(G,"type","submit"),G.disabled=s[12],l(G,"class","w-full sm:w-auto inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:text-sm disabled:opacity-50"),l(u,"type","button"),l(u,"class","mt-3 sm:mt-0 w-full sm:w-auto inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm"),l(oe,"class","mt-5 sm:mt-6 sm:flex sm:flex-row-reverse gap-2"),l(a,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),l(r,"class","inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"),l(e,"class","flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"),l(t,"class","fixed inset-0 z-50 overflow-y-auto"),l(t,"role","dialog"),l(t,"aria-modal","true")},m(U,me){S(U,t,me),n(t,e),n(e,i),n(e,o),n(e,r),n(r,a),n(a,c),n(c,f),n(f,g),n(f,z),n(f,x),n(x,E),n(x,C),n(x,h),de(h,s[10].name),n(x,j),ee&&ee.m(x,null),n(f,y),n(f,b),n(b,T),n(b,w),n(b,_),de(_,s[10].email),n(b,v),B&&B.m(b,null),n(f,J),n(f,D),n(D,K),n(D,$),n(D,L),de(L,s[10].password),n(D,re),W&&W.m(D,null),n(f,ie),n(f,O),n(O,F),n(O,ae),n(O,Z),de(Z,s[10].password_confirmation),n(f,X),n(f,se),n(se,I),n(se,fe),n(se,q);for(let ue=0;ue<Q.length;ue+=1)Q[ue]&&Q[ue].m(q,null);n(se,A),R&&R.m(se,null),n(a,ne),n(a,oe),n(oe,G),n(G,le),n(oe,N),n(oe,u),m||(M=[Y(i,"click",s[15]),Y(i,"keydown",s[29]),Y(h,"input",s[30]),Y(_,"input",s[31]),Y(L,"input",s[32]),Y(Z,"input",s[33]),Y(u,"click",s[15]),Y(a,"submit",lt(s[20]))],m=!0)},p(U,me){if(me[0]&1024&&h.value!==U[10].name&&de(h,U[10].name),U[3].name?ee?ee.p(U,me):(ee=Ge(U),ee.c(),ee.m(x,null)):ee&&(ee.d(1),ee=null),me[0]&1024&&_.value!==U[10].email&&de(_,U[10].email),U[3].email?B?B.p(U,me):(B=Qe(U),B.c(),B.m(b,null)):B&&(B.d(1),B=null),me[0]&1024&&L.value!==U[10].password&&de(L,U[10].password),U[3].password?W?W.p(U,me):(W=Ve(U),W.c(),W.m(D,null)):W&&(W.d(1),W=null),me[0]&1024&&Z.value!==U[10].password_confirmation&&de(Z,U[10].password_confirmation),me[0]&1028){k=ge(U[2]);let ue;for(ue=0;ue<k.length;ue+=1){const Ue=ze(U,k,ue);Q[ue]?Q[ue].p(Ue,me):(Q[ue]=We(Ue),Q[ue].c(),Q[ue].m(q,null))}for(;ue<Q.length;ue+=1)Q[ue].d(1);Q.length=k.length}U[3].roles?R?R.p(U,me):(R=Ie(U),R.c(),R.m(se,null)):R&&(R.d(1),R=null),me[0]&4096&&V!==(V=U[12]?"Creating...":"Create User")&&te(le,V),me[0]&4096&&(G.disabled=U[12])},d(U){U&&H(t),ee&&ee.d(),B&&B.d(),W&&W.d(),he(Q,U),R&&R.d(),m=!1,xe(M)}}}function Ge(s){let t,e=s[3].name+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].name+"")&&te(i,e)},d(o){o&&H(t)}}}function Qe(s){let t,e=s[3].email+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].email+"")&&te(i,e)},d(o){o&&H(t)}}}function Ve(s){let t,e=s[3].password+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].password+"")&&te(i,e)},d(o){o&&H(t)}}}function We(s){let t,e,i,o,r,a=s[42].name+"",c,f,g,z;function x(){return s[34](s[42])}return{c(){t=d("label"),e=d("input"),o=p(),r=d("span"),c=P(a),f=p(),l(e,"type","checkbox"),e.checked=i=s[10].roles.includes(s[42].name),l(e,"class","rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"),l(r,"class","ml-2 text-sm text-gray-700"),l(t,"class","flex items-center")},m(E,C){S(E,t,C),n(t,e),n(t,o),n(t,r),n(r,c),n(t,f),g||(z=Y(e,"change",x),g=!0)},p(E,C){s=E,C[0]&1028&&i!==(i=s[10].roles.includes(s[42].name))&&(e.checked=i),C[0]&4&&a!==(a=s[42].name+"")&&te(c,a)},d(E){E&&H(t),g=!1,z()}}}function Ie(s){let t,e=s[3].roles+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].roles+"")&&te(i,e)},d(o){o&&H(t)}}}function Je(s){let t,e,i,o,r,a,c,f,g,z,x,E,C,h,j,y,b,T,w,_,v,J,D,K,$,L,re,ie,O,F,ae,Z,X,se,I,fe,q,A=s[12]?"Updating...":"Update User",ne,oe,G,V,le,N=s[3].name&&Ke(s),u=s[3].email&&Oe(s),m=s[3].password&&Xe(s),M=s[11].password&&Ye(s),ee=ge(s[2]),B=[];for(let k=0;k<ee.length;k+=1)B[k]=Ze(Ee(s,ee,k));let W=s[3].roles&&$e(s);return{c(){t=d("div"),e=d("div"),i=d("div"),o=p(),r=d("div"),a=d("form"),c=d("div"),f=d("div"),g=d("h3"),g.textContent="Edit User",z=p(),x=d("div"),E=d("label"),E.textContent="Name",C=p(),h=d("input"),j=p(),N&&N.c(),y=p(),b=d("div"),T=d("label"),T.textContent="Email",w=p(),_=d("input"),v=p(),u&&u.c(),J=p(),D=d("div"),K=d("label"),K.textContent="New Password (leave blank to keep current)",$=p(),L=d("input"),re=p(),m&&m.c(),ie=p(),M&&M.c(),O=p(),F=d("div"),ae=d("div"),ae.textContent="Roles",Z=p(),X=d("div");for(let k=0;k<B.length;k+=1)B[k].c();se=p(),W&&W.c(),I=p(),fe=d("div"),q=d("button"),ne=P(A),oe=p(),G=d("button"),G.textContent="Cancel",l(i,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"),l(i,"role","button"),l(i,"tabindex","0"),l(g,"class","text-lg leading-6 font-medium text-gray-900 mb-4"),l(E,"for","edit_name"),l(E,"class","block text-sm font-medium text-gray-700 mb-1"),l(h,"type","text"),l(h,"id","edit_name"),l(h,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),h.required=!0,l(x,"class","mb-4"),l(T,"for","edit_email"),l(T,"class","block text-sm font-medium text-gray-700 mb-1"),l(_,"type","email"),l(_,"id","edit_email"),l(_,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),_.required=!0,l(b,"class","mb-4"),l(K,"for","edit_password"),l(K,"class","block text-sm font-medium text-gray-700 mb-1"),l(L,"type","password"),l(L,"id","edit_password"),l(L,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),l(D,"class","mb-4"),l(ae,"class","block text-sm font-medium text-gray-700 mb-2"),l(X,"class","space-y-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md p-3"),l(F,"class","mb-4"),l(f,"class","mt-3 text-center sm:mt-0 sm:text-left w-full"),l(c,"class","sm:flex sm:items-start"),l(q,"type","submit"),q.disabled=s[12],l(q,"class","w-full sm:w-auto inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:text-sm disabled:opacity-50"),l(G,"type","button"),l(G,"class","mt-3 sm:mt-0 w-full sm:w-auto inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm"),l(fe,"class","mt-5 sm:mt-6 sm:flex sm:flex-row-reverse gap-2"),l(a,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),l(r,"class","inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"),l(e,"class","flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"),l(t,"class","fixed inset-0 z-50 overflow-y-auto"),l(t,"role","dialog"),l(t,"aria-modal","true")},m(k,Q){S(k,t,Q),n(t,e),n(e,i),n(e,o),n(e,r),n(r,a),n(a,c),n(c,f),n(f,g),n(f,z),n(f,x),n(x,E),n(x,C),n(x,h),de(h,s[11].name),n(x,j),N&&N.m(x,null),n(f,y),n(f,b),n(b,T),n(b,w),n(b,_),de(_,s[11].email),n(b,v),u&&u.m(b,null),n(f,J),n(f,D),n(D,K),n(D,$),n(D,L),de(L,s[11].password),n(D,re),m&&m.m(D,null),n(f,ie),M&&M.m(f,null),n(f,O),n(f,F),n(F,ae),n(F,Z),n(F,X);for(let R=0;R<B.length;R+=1)B[R]&&B[R].m(X,null);n(F,se),W&&W.m(F,null),n(a,I),n(a,fe),n(fe,q),n(q,ne),n(fe,oe),n(fe,G),V||(le=[Y(i,"click",s[17]),Y(i,"keydown",s[35]),Y(h,"input",s[36]),Y(_,"input",s[37]),Y(L,"input",s[38]),Y(G,"click",s[17]),Y(a,"submit",lt(s[21]))],V=!0)},p(k,Q){if(Q[0]&2048&&h.value!==k[11].name&&de(h,k[11].name),k[3].name?N?N.p(k,Q):(N=Ke(k),N.c(),N.m(x,null)):N&&(N.d(1),N=null),Q[0]&2048&&_.value!==k[11].email&&de(_,k[11].email),k[3].email?u?u.p(k,Q):(u=Oe(k),u.c(),u.m(b,null)):u&&(u.d(1),u=null),Q[0]&2048&&L.value!==k[11].password&&de(L,k[11].password),k[3].password?m?m.p(k,Q):(m=Xe(k),m.c(),m.m(D,null)):m&&(m.d(1),m=null),k[11].password?M?M.p(k,Q):(M=Ye(k),M.c(),M.m(f,O)):M&&(M.d(1),M=null),Q[0]&2052){ee=ge(k[2]);let R;for(R=0;R<ee.length;R+=1){const U=Ee(k,ee,R);B[R]?B[R].p(U,Q):(B[R]=Ze(U),B[R].c(),B[R].m(X,null))}for(;R<B.length;R+=1)B[R].d(1);B.length=ee.length}k[3].roles?W?W.p(k,Q):(W=$e(k),W.c(),W.m(F,null)):W&&(W.d(1),W=null),Q[0]&4096&&A!==(A=k[12]?"Updating...":"Update User")&&te(ne,A),Q[0]&4096&&(q.disabled=k[12])},d(k){k&&H(t),N&&N.d(),u&&u.d(),m&&m.d(),M&&M.d(),he(B,k),W&&W.d(),V=!1,xe(le)}}}function Ke(s){let t,e=s[3].name+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].name+"")&&te(i,e)},d(o){o&&H(t)}}}function Oe(s){let t,e=s[3].email+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].email+"")&&te(i,e)},d(o){o&&H(t)}}}function Xe(s){let t,e=s[3].password+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].password+"")&&te(i,e)},d(o){o&&H(t)}}}function Ye(s){let t,e,i,o,r,a;return{c(){t=d("div"),e=d("label"),e.textContent="Confirm New Password",i=p(),o=d("input"),l(e,"for","edit_password_confirmation"),l(e,"class","block text-sm font-medium text-gray-700 mb-1"),l(o,"type","password"),l(o,"id","edit_password_confirmation"),l(o,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"),l(t,"class","mb-4")},m(c,f){S(c,t,f),n(t,e),n(t,i),n(t,o),de(o,s[11].password_confirmation),r||(a=Y(o,"input",s[39]),r=!0)},p(c,f){f[0]&2048&&o.value!==c[11].password_confirmation&&de(o,c[11].password_confirmation)},d(c){c&&H(t),r=!1,a()}}}function Ze(s){let t,e,i,o,r,a=s[42].name+"",c,f,g,z;function x(){return s[40](s[42])}return{c(){t=d("label"),e=d("input"),o=p(),r=d("span"),c=P(a),f=p(),l(e,"type","checkbox"),e.checked=i=s[11].roles.includes(s[42].name),l(e,"class","rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"),l(r,"class","ml-2 text-sm text-gray-700"),l(t,"class","flex items-center")},m(E,C){S(E,t,C),n(t,e),n(t,o),n(t,r),n(r,c),n(t,f),g||(z=Y(e,"change",x),g=!0)},p(E,C){s=E,C[0]&2052&&i!==(i=s[11].roles.includes(s[42].name))&&(e.checked=i),C[0]&4&&a!==(a=s[42].name+"")&&te(c,a)},d(E){E&&H(t),g=!1,z()}}}function $e(s){let t,e=s[3].roles+"",i;return{c(){t=d("p"),i=P(e),l(t,"class","mt-1 text-sm text-red-600")},m(o,r){S(o,t,r),n(t,i)},p(o,r){r[0]&8&&e!==(e=o[3].roles+"")&&te(i,e)},d(o){o&&H(t)}}}function et(s){let t,e,i,o,r,a,c,f,g,z,x,E,C,h,j,y,b=s[8].name+"",T,w,_,v,J,D=s[12]?"Deleting...":"Delete User",K,$,L,re,ie;return{c(){t=d("div"),e=d("div"),i=d("div"),o=p(),r=d("div"),a=d("div"),c=d("div"),f=d("div"),f.innerHTML='<svg class="h-6 w-6 text-red-600" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>',g=p(),z=d("div"),x=d("h3"),x.textContent="Delete User",E=p(),C=d("div"),h=d("p"),j=P("Are you sure you want to delete "),y=d("strong"),T=P(b),w=P("? This action cannot be undone."),_=p(),v=d("div"),J=d("button"),K=P(D),$=p(),L=d("button"),L.textContent="Cancel",l(i,"class","fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"),l(i,"role","button"),l(i,"tabindex","0"),l(f,"class","mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"),l(x,"class","text-lg leading-6 font-medium text-gray-900"),l(h,"class","text-sm text-gray-500"),l(C,"class","mt-2"),l(z,"class","mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"),l(c,"class","sm:flex sm:items-start"),l(J,"type","button"),J.disabled=s[12],l(J,"class","w-full sm:w-auto inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:text-sm disabled:opacity-50"),l(L,"type","button"),l(L,"class","mt-3 sm:mt-0 w-full sm:w-auto inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm"),l(v,"class","mt-5 sm:mt-6 sm:flex sm:flex-row-reverse gap-2"),l(a,"class","bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"),l(r,"class","inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"),l(e,"class","flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"),l(t,"class","fixed inset-0 z-50 overflow-y-auto"),l(t,"role","dialog"),l(t,"aria-modal","true")},m(O,F){S(O,t,F),n(t,e),n(e,i),n(e,o),n(e,r),n(r,a),n(a,c),n(c,f),n(c,g),n(c,z),n(z,x),n(z,E),n(z,C),n(C,h),n(h,j),n(h,y),n(y,T),n(h,w),n(a,_),n(a,v),n(v,J),n(J,K),n(v,$),n(v,L),re||(ie=[Y(i,"click",s[19]),Y(i,"keydown",s[41]),Y(J,"click",s[22]),Y(L,"click",s[19])],re=!0)},p(O,F){F[0]&256&&b!==(b=O[8].name+"")&&te(T,b),F[0]&4096&&D!==(D=O[12]?"Deleting...":"Delete User")&&te(K,D),F[0]&4096&&(J.disabled=O[12])},d(O){O&&H(t),re=!1,xe(ie)}}}function _t(s){let t,e,i,o,r,a,c,f,g,z,x,E,C,h,j,y,b,T,w,_,v,J,D,K,$,L,re,ie,O,F,ae,Z,X,se,I,fe;c=new Me({props:{href:"/settings/website",class:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm sm:text-base "+(s[13].url==="/settings/website"?"border-indigo-500 text-indigo-600":""),$$slots:{default:[dt]},$$scope:{ctx:s}}}),g=new Me({props:{href:"/settings/users",class:"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm sm:text-base "+(s[13].url==="/settings/users"?"border-indigo-500 text-indigo-600":""),$$slots:{default:[ft]},$$scope:{ctx:s}}});let q=s[4].message&&Ne(s),A=s[4].error&&Be(s);function ne(m,M){return m[1].data&&m[1].data.length>0?mt:ut}let oe=ne(s),G=oe(s),V=s[1].links&&s[1].links.length>3&&Re(s),le=s[5]&&Fe(s),N=s[6]&&s[8]&&Je(s),u=s[7]&&s[8]&&et(s);return{c(){t=d("div"),e=d("div"),i=d("div"),i.innerHTML='<h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900">Settings</h1> <p class="mt-1 sm:mt-2 text-sm sm:text-base text-gray-600">Manage users and their roles</p>',o=p(),r=d("div"),a=d("nav"),ye(c.$$.fragment),f=p(),ye(g.$$.fragment),z=p(),q&&q.c(),x=p(),A&&A.c(),E=p(),C=d("div"),h=d("div"),j=d("div"),y=d("input"),b=p(),T=pe("svg"),w=pe("path"),_=p(),v=d("button"),v.innerHTML=`<svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                    Create User`,J=p(),D=d("div"),K=d("div"),$=d("table"),L=d("thead"),L.innerHTML='<tr><th class="px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Name</th> <th class="px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Email</th> <th class="px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Roles</th> <th class="px-3 sm:px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">Created</th> <th class="px-3 sm:px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider">Actions</th></tr>',re=p(),ie=d("tbody"),G.c(),O=p(),V&&V.c(),F=p(),le&&le.c(),ae=p(),N&&N.c(),Z=p(),u&&u.c(),X=Ce(),l(i,"class","mb-4 sm:mb-6 lg:mb-8"),l(a,"class","-mb-px flex space-x-4 sm:space-x-8"),l(a,"aria-label","Tabs"),l(r,"class","mb-6 border-b border-gray-200"),l(y,"type","text"),l(y,"placeholder","Search users..."),l(y,"class","block w-full rounded-lg border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-4 py-2 pl-10 border"),l(w,"stroke-linecap","round"),l(w,"stroke-linejoin","round"),l(w,"stroke-width","2"),l(w,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),l(T,"class","absolute left-3 top-2.5 h-5 w-5 text-gray-400"),l(T,"fill","none"),l(T,"viewBox","0 0 24 24"),l(T,"stroke","currentColor"),l(j,"class","relative"),l(h,"class","flex-1 max-w-md"),l(v,"class","px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition-colors text-sm sm:text-base font-medium flex items-center"),l(C,"class","mb-4 sm:mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"),l(L,"class","bg-gradient-to-r from-gray-50 to-gray-100"),l(ie,"class","bg-white divide-y divide-gray-200"),l($,"class","min-w-full divide-y divide-gray-200"),l(K,"class","overflow-x-auto"),l(D,"class","bg-white shadow-xl rounded-xl border border-gray-100 overflow-hidden"),l(e,"class","max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"),l(t,"class","py-4 sm:py-6 lg:py-8 bg-gray-50 min-h-screen")},m(m,M){S(m,t,M),n(t,e),n(e,i),n(e,o),n(e,r),n(r,a),ke(c,a,null),n(a,f),ke(g,a,null),n(e,z),q&&q.m(e,null),n(e,x),A&&A.m(e,null),n(e,E),n(e,C),n(C,h),n(h,j),n(j,y),de(y,s[9]),n(j,b),n(j,T),n(T,w),n(C,_),n(C,v),n(e,J),n(e,D),n(D,K),n(K,$),n($,L),n($,re),n($,ie),G.m(ie,null),n(D,O),V&&V.m(D,null),S(m,F,M),le&&le.m(m,M),S(m,ae,M),N&&N.m(m,M),S(m,Z,M),u&&u.m(m,M),S(m,X,M),se=!0,I||(fe=[Y(y,"input",s[25]),Y(y,"keydown",s[26]),Y(v,"click",s[14])],I=!0)},p(m,M){const ee={};M[0]&8192&&(ee.class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm sm:text-base "+(m[13].url==="/settings/website"?"border-indigo-500 text-indigo-600":"")),M[1]&16777216&&(ee.$$scope={dirty:M,ctx:m}),c.$set(ee);const B={};M[0]&8192&&(B.class="border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm sm:text-base "+(m[13].url==="/settings/users"?"border-indigo-500 text-indigo-600":"")),M[1]&16777216&&(B.$$scope={dirty:M,ctx:m}),g.$set(B),m[4].message?q?q.p(m,M):(q=Ne(m),q.c(),q.m(e,x)):q&&(q.d(1),q=null),m[4].error?A?A.p(m,M):(A=Be(m),A.c(),A.m(e,E)):A&&(A.d(1),A=null),M[0]&512&&y.value!==m[9]&&de(y,m[9]),oe===(oe=ne(m))&&G?G.p(m,M):(G.d(1),G=oe(m),G&&(G.c(),G.m(ie,null))),m[1].links&&m[1].links.length>3?V?(V.p(m,M),M[0]&2&&ce(V,1)):(V=Re(m),V.c(),ce(V,1),V.m(D,null)):V&&(je(),be(V,1,1,()=>{V=null}),Le()),m[5]?le?le.p(m,M):(le=Fe(m),le.c(),le.m(ae.parentNode,ae)):le&&(le.d(1),le=null),m[6]&&m[8]?N?N.p(m,M):(N=Je(m),N.c(),N.m(Z.parentNode,Z)):N&&(N.d(1),N=null),m[7]&&m[8]?u?u.p(m,M):(u=et(m),u.c(),u.m(X.parentNode,X)):u&&(u.d(1),u=null)},i(m){se||(ce(c.$$.fragment,m),ce(g.$$.fragment,m),ce(V),se=!0)},o(m){be(c.$$.fragment,m),be(g.$$.fragment,m),be(V),se=!1},d(m){m&&(H(t),H(F),H(ae),H(Z),H(X)),we(c),we(g),q&&q.d(),A&&A.d(),G.d(),V&&V.d(),le&&le.d(m),N&&N.d(m),u&&u.d(m),I=!1,xe(fe)}}}function ht(s){var o;let t,e,i;return e=new at({props:{user:(o=s[0])==null?void 0:o.user,$$slots:{default:[_t]},$$scope:{ctx:s}}}),{c(){t=p(),ye(e.$$.fragment),document.title="User Settings"},m(r,a){S(r,t,a),ke(e,r,a),i=!0},p(r,a){var f;const c={};a[0]&1&&(c.user=(f=r[0])==null?void 0:f.user),a[0]&16383|a[1]&16777216&&(c.$$scope={dirty:a,ctx:r}),e.$set(c)},i(r){i||(ce(e.$$.fragment,r),i=!0)},o(r){be(e.$$.fragment,r),i=!1},d(r){r&&H(t),we(e,r)}}}function tt(s,t){s.roles.includes(t)?s.roles=s.roles.filter(e=>e!==t):s.roles=[...s.roles,t]}function vt(s,t,e){let i;ot(s,rt,u=>e(13,i=u));let{auth:o=null}=t,{users:r={}}=t,{roles:a=[]}=t,{filters:c={}}=t,{errors:f={}}=t,{flash:g={}}=t,z=!1,x=!1,E=!1,C=null,h=c.search||"",j={name:"",email:"",password:"",password_confirmation:"",roles:[]},y={name:"",email:"",password:"",password_confirmation:"",roles:[]},b=!1;function T(){e(5,z=!0),e(10,j={name:"",email:"",password:"",password_confirmation:"",roles:[]})}function w(){e(5,z=!1),e(10,j={name:"",email:"",password:"",password_confirmation:"",roles:[]})}function _(u){e(8,C=u),e(6,x=!0),e(11,y={name:u.name,email:u.email,password:"",password_confirmation:"",roles:u.roles?u.roles.map(m=>m.name):[]})}function v(){e(6,x=!1),e(8,C=null),e(11,y={name:"",email:"",password:"",password_confirmation:"",roles:[]})}function J(u){e(8,C=u),e(7,E=!0)}function D(){e(7,E=!1),e(8,C=null)}function K(u){u.preventDefault(),e(12,b=!0),ve.post("/settings/users",j,{onSuccess:()=>{w(),e(12,b=!1)},onError:()=>{e(12,b=!1)}})}function $(u){u.preventDefault(),e(12,b=!0),ve.put(`/settings/users/${C.id}`,y,{onSuccess:()=>{v(),e(12,b=!1)},onError:()=>{e(12,b=!1)}})}function L(){e(12,b=!0),ve.delete(`/settings/users/${C.id}`,{onSuccess:()=>{D(),e(12,b=!1)},onError:()=>{e(12,b=!1)}})}function re(){ve.get("/settings/users",{search:h},{preserveState:!0,replace:!0})}function ie(){h=this.value,e(9,h)}const O=u=>u.key==="Enter"&&re(),F=u=>_(u),ae=u=>J(u),Z=u=>u.key==="Escape"&&w();function X(){j.name=this.value,e(10,j)}function se(){j.email=this.value,e(10,j)}function I(){j.password=this.value,e(10,j)}function fe(){j.password_confirmation=this.value,e(10,j)}const q=u=>tt(j,u.name),A=u=>u.key==="Escape"&&v();function ne(){y.name=this.value,e(11,y)}function oe(){y.email=this.value,e(11,y)}function G(){y.password=this.value,e(11,y)}function V(){y.password_confirmation=this.value,e(11,y)}const le=u=>tt(y,u.name),N=u=>u.key==="Escape"&&D();return s.$$set=u=>{"auth"in u&&e(0,o=u.auth),"users"in u&&e(1,r=u.users),"roles"in u&&e(2,a=u.roles),"filters"in u&&e(24,c=u.filters),"errors"in u&&e(3,f=u.errors),"flash"in u&&e(4,g=u.flash)},[o,r,a,f,g,z,x,E,C,h,j,y,b,i,T,w,_,v,J,D,K,$,L,re,c,ie,O,F,ae,Z,X,se,I,fe,q,A,ne,oe,G,V,le,N]}class yt extends st{constructor(t){super(),nt(this,t,vt,ht,it,{auth:0,users:1,roles:2,filters:24,errors:3,flash:4},null,[-1,-1])}}export{yt as default};
